<form action="">

    <label class="hidden" for="search"></label>

    <div class="flex row">
        <input 
            id="search" 
            type="text" 
            placeholder="Search for movies or series..."
            [formControl]="search"
            list=""
            autocomplete="off"
            (focus)="onToggleFocus($event)"
            (blur)="onToggleFocus($event)" 
            
        > 

        <div [ngClass]="{'search-button-group-active': true}" class="search-button-group"> <!-- searchIsActive -->
           <ng-container *ngIf="true; else default"> <!-- search.dirty -->
            <i (click)="resetForm()"
                tabindex="0" 
                 icon 
                class="fas fa-times fa-lg close"></i>
                <span class="vertical-rule">
                </span>
            <i (click)="fullSearch()"
                tabindex="0"  
                 icon 
                class="fas fa-search fa-lg "></i>
           </ng-container>

            <ng-template #default>
                <i icon class="fas fa-search fa-lg"></i>
            </ng-template>
        </div>
    </div>
    <ng-container *ngIf="queryResults$ | async as values" >
        <ul [ngClass]="{'datalist-active': searchIsActive}" id="query-results" *ngIf="values.results.length > 0; else emptyState">
            <li
            (mousedown)="hinderMouseDown($event)"
            (mouseup)="onClick(value)"
            *ngFor="let value of values.results" 
            [value]="value.value"
            [attr.data-media]="value"
            >
                {{value.title || value.name}}
            
        </li>
    </ul>
    </ng-container>
    <ng-template #emptyState>
        <ul [ngClass]="{'datalist-active': searchIsActive}" id="query-results" >
            <li class="option-disable">No search results</li>
        </ul>
    </ng-template>
</form>

<app-search-grid *ngIf="queryResults$ | async as data" [queryResults]="data.results">

</app-search-grid>

<app-paginator
[numberOfPages]="5"
[currentPage]="1"
>

</app-paginator>



